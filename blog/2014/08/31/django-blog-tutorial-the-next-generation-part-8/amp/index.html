<!doctype html><html amp lang="en"><head><meta charset="utf-8"><title>Django Blog Tutorial - the Next Generation - Part 8 - Matthew Daly&#x27;s Blog</title><link rel="canonical" href="https://matthewdaly.co.uk/blog/2014/08/31/django-blog-tutorial-the-next-generation-part-8/"><link rel="alternate" type="application/rss+xml" title="Matthew Daly&#x27;s Blog - feed" href="/rss.xml"><link href="/favicon.ico" rel="icon"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#252525"><script type="application/ld+json">{
         "@context": "http://schema.org",
         "@type": "BlogPosting",
         "mainEntityOfPage": "https://matthewdaly.co.uk/blog/2014/08/31/django-blog-tutorial-the-next-generation-part-8/",
         "headline": "Django Blog Tutorial - the Next Generation - Part 8",
         "datePublished": "2014-08-31T21:00:00.000Z",
         "dateModified": "2014-08-31T21:00:00.000Z",
         "description": "&lt;p&gt;Hello again! In our final instalment, we’ll wrap up our blog by:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Implementing a site...",
         "author": {
              "@type": "Person",
              "name": "Matthew Daly"
         },
         "publisher": {
            "@type": "Organization",
            "name": "Matthew Daly&#x27;s Blog",
            "logo": {
               "@type": "ImageObject",
               "url": "https://matthewdaly.co.uk/favicon.ico",
               "height": 16,
               "width": 16
            }
         },
         "image": {
            "@type": "ImageObject",
            "url": "https://matthewdaly.co.uk/logo.png",
            "height": 120,
            "width": 1200
         }
      }</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><link href="https://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet" type="text/css"><style amp-custom>body {
   background-color: #252525;
}
      div.container {
         background-color: #f8f8f8;
         width: 100%;
      }
      p, h1, h2, h3, h4, h5, h6, li, nav a {
         font-family: "PT Serif","Georgia","Helvetica Neue",Arial,sans-serif;
         text-rendering: optimizelegibility;
      }
      p, li {
         font-size: 1.4em;
         line-height: 1.5em;
      }
      header {
         padding: 20px;
         color: #505050;
      }
      header h1 {
         font-size: 3em;
         line-height: 1.2em;
         color: #7f7f7f;
      }
      header h2 {
         font-size: 1.5em;
         color: #7f7f7f;
      }
      h1 a {
         text-decoration: none;
         color: #7f7f7f;
      }
      code {
         white-space: pre-wrap;
         word-wrap: break-word;
         font-family: Menlo, Monaco, "Andale Mono", "Ubuntu Mono", "lucida console", monospace;
         background-color: #cfcfcf;
         padding: 5px;
         border-radius: 3px;
      }
      pre {
         white-space: pre-wrap;
         word-wrap: break-word;
      }
      pre code {
         display: block;
         overflow-wrap: normal;
         word-wrap: normal;
         white-space: pre;
         font-size: 1.2em;
      }
      article {
         padding: 20px;
      }
      section {
         margin-top: 10px;
         margin-bottom: 10px;
      }
      amp-img {
         background-color: gray;
         border: 1px solid black;
      }
      .hljs {
         display: block;
         overflow-x: auto;
         padding: 0.5em;
         background: #474949;
         color: #d1d9e1;
      }
      .hljs-comment,
      .hljs-quote {
         color: #969896;
         font-style: italic;
      }
      .hljs-keyword,
      .hljs-selector-tag,
      .hljs-literal,
      .hljs-type,
      .hljs-addition {
         color: #cc99cc;
      }
      .hljs-number,
      .hljs-selector-attr,
      .hljs-selector-pseudo {
         color: #f99157;
      }
      .hljs-string,
      .hljs-doctag,
      .hljs-regexp {
         color: #8abeb7;
      }
      .hljs-title,
      .hljs-name,
      .hljs-section,
      .hljs-built_in {
         color: #b5bd68;
      }
      .hljs-variable,
      .hljs-template-variable,
      .hljs-selector-id,
      .hljs-class .hljs-title {
         color: #ffcc66;
      }
      .hljs-section,
      .hljs-name,
      .hljs-strong {
         font-weight: bold;
      }
      .hljs-symbol,
      .hljs-bullet,
      .hljs-subst,
      .hljs-meta,
      .hljs-link {
         color: #f99157;
      }
      .hljs-deletion {
         color: #dc322f;
      }
      .hljs-formula {
         background: #eee8d5;
      }
      .hljs-attr,
      .hljs-attribute {
         color: #81a2be;
      }
      .hljs-emphasis {
         font-style: italic;
      }
      ul.categories {
         padding-left: 0px;
         margin-bottom: 20px;
      }
      ul.categories li {
         list-style-type: none;
         display: inline-block;
         margin-right: 20px;
      }
      ul.categories li a {
         background-color: #303030;
         border-radius: 3px;
         padding: 3px;
         color: #fff;
         text-decoration: none;
      }
      a.commentlink, a.postlink {
         background-color: #303030;
         border-radius: 3px;
         padding: 3px;
         color: #fff;
         text-decoration: none;
      }
      blockquote {
         font-style: italic;
         border-left: 2px solid #cfcfcf;
      }
      blockquote p {
         font-size: 2.2em;
      }</style><script async src="https://cdn.ampproject.org/v0.js"></script><script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script></head><body><header><h1><a href="/">Matthew Daly&#x27;s Blog</a></h1><h2>I&#x27;m a web developer in Norfolk. This is my blog...</h2></header><div class="container"><div class="row"><div class="col-md-8"><article class="post"><p class="date">31st August 2014 10:00 pm</p><h1>Django Blog Tutorial - the Next Generation - Part 8</h1><p>Hello again! In our final instalment, we’ll wrap up our blog by:</p><ul><li>Implementing a sitemap</li><li>Optimising and tidying up the site</li><li>Creating a Fabric task for easier deployment</li></ul><p>I’ll also cover development tools and practices that can make using Django easier. But first there’s a few housekeeping tasks that need doing…</p><p>Don’t forget to activate your virtualenv - you should know how to do this off by heart by now!</p><h1 id="upgrading-django">Upgrading Django</h1><p>At the time of writing, Django 1.7 is due any day now, but it’s not out yet so I won’t cover it. The biggest change is the addition of a built-in migration system, but switching from South to this is well-documented. When Django 1.7 comes out, it shouldn’t be difficult to upgrade to it - because we have good test coverage, we shouldn’t have much trouble catching errors.</p><p>However, Django 1.6.6 was recently released, and we need to upgrade to it. Just enter the following command to upgrade:</p><pre><code class="lang-bash">$ pip install Django --upgrade
</code></pre><p>Then add it to your <code>requirements.txt</code>:</p><pre><code class="lang-bash">$ pip freeze &gt; requirements.txt
</code></pre><p>Then commit your changes:</p><pre><code class="lang-bash">$ git add requirements.txt
$ git commit -m &#39;Upgraded Django version&#39;
</code></pre><h1 id="implementing-a-sitemap">Implementing a sitemap</h1><p>Creating a sitemap for your blog is a good idea - it can be submitted to search engines, so that they can easily find your content. With Django, it’s pretty straightforward too.</p><p>First, let’s create a test for our sitemap. Add the following code at the end of <code>tests.py</code>:</p><pre><code class="lang-python">class SitemapTest(BaseAcceptanceTest):
    def test_sitemap(self):
        # Create a post
        post = PostFactory()

        # Create a flat page
        page = FlatPageFactory()

        # Get sitemap
        response = self.client.get(&#39;/sitemap.xml&#39;)
        self.assertEquals(response.status_code, 200)

        # Check post is present in sitemap
        self.assertTrue(&#39;my-first-post&#39; in response.content)

        # Check page is present in sitemap
        self.assertTrue(&#39;/about/&#39; in response.content)
</code></pre><p>Run it, and you should see the test fail:</p><pre><code class="lang-bash">$ python manage.py test blogengine
Creating test database for alias &#39;default&#39;...
...........................F
======================================================================
FAIL: test_sitemap (blogengine.tests.SitemapTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;, line 847, in test_sitemap
    self.assertEquals(response.status_code, 200)
AssertionError: 404 != 200

----------------------------------------------------------------------
Ran 28 tests in 6.873s

FAILED (failures=1)
Destroying test database for alias &#39;default&#39;...
</code></pre><p>Now, let’s implement our sitemap. The sitemap application comes with Django, and needs to be activated in your settings file, under <code>INSTALLED_APPS</code>:</p><pre><code class="lang-python">    &#39;django.contrib.sitemaps&#39;,
</code></pre><p>Next, let’s think about what content we want to include in the sitemap. We want to index our flat pages and our blog posts, so our sitemap should reflect that. Create a new file at <code>blogengine/sitemap.py</code> and enter the following text:</p><pre><code class="lang-python">from django.contrib.sitemaps import Sitemap
from django.contrib.flatpages.models import FlatPage
from blogengine.models import Post

class PostSitemap(Sitemap):
    changefreq = &quot;always&quot;
    priority = 0.5

    def items(self):
        return Post.objects.all()

    def lastmod(self, obj):
        return obj.pub_date


class FlatpageSitemap(Sitemap):
    changefreq = &quot;always&quot;
    priority = 0.5

    def items(self):
        return FlatPage.objects.all()
</code></pre><p>We define two sitemaps, one for all the posts, and the other for all the flat pages. Note that this works in a very similar way to the syndication framework.</p><p>Next, we amend our URLs. Add the following text after the existing imports in your URL file:</p><pre><code class="lang-python">from django.contrib.sitemaps.views import sitemap
from blogengine.sitemap import PostSitemap, FlatpageSitemap

# Define sitemaps
sitemaps = {
    &#39;posts&#39;: PostSitemap,
    &#39;pages&#39;: FlatpageSitemap
}
</code></pre><p>Then add the following after the existing routes:</p><pre><code class="lang-python">    # Sitemap
    url(r&#39;^sitemap\.xml$&#39;, sitemap, {&#39;sitemaps&#39;: sitemaps},
            name=&#39;django.contrib.sitemaps.views.sitemap&#39;),
</code></pre><p>Here we define what sitemaps we’re going to use, and we define a URL for them. It’s pretty straightforward to use.</p><p>Let’s run our tests:</p><pre><code class="lang-bash">$ python manage.py test blogengine
Creating test database for alias &#39;default&#39;...
............................
----------------------------------------------------------------------
Ran 28 tests in 6.863s

OK
Destroying test database for alias &#39;default&#39;...
</code></pre><p>And done! Let’s commit our changes:</p><pre><code class="lang-bash">$ git add blogengine/ django_tutorial_blog_ng/settings.py
$ git commit -m &#39;Implemented a sitemap&#39;
</code></pre><h1 id="fixing-test-coverage">Fixing test coverage</h1><p>Our blog is now feature-complete, but there are a few gaps in test coverage, so we’ll fix them. If, like me, you’re using Coveralls.io, <a href="https://coveralls.io/builds/1151177">you can easily see via their web interface where there are gaps in the coverage</a>.</p><p>Now, our gaps are all in our view file - if you <a href="https://coveralls.io/files/280228813">take a look at my build</a>, you can easily identify the gaps as they’re marked in red.</p><p>The first gap is where a tag does not exist. Interestingly, if we look at the code in the view, we can see that some of it is redundant:</p><pre><code class="lang-python">class TagPostsFeed(PostsFeed):
    def get_object(self, request, slug):
        return get_object_or_404(Tag, slug=slug)

    def title(self, obj):
        return &quot;RSS feed - blog posts tagged  %s&quot; % obj.name

    def link(self, obj):
        return obj.get_absolute_url()

    def description(self, obj):
        return &quot;RSS feed - blog posts tagged %s&quot; % obj.name

    def items(self, obj):
        try:
            tag = Tag.objects.get(slug=obj.slug)
            return tag.post_set.all()
        except Tag.DoesNotExist:
            return Post.objects.none()
</code></pre><p>Under the <code>items</code> function, we check to see if the tag exists. However, under <code>get_object</code> we can see that if the object didn’t exist, it would already have returned a 404 error. We can therefore safely amend <code>items</code> to not check, since that try statement will never fail:</p><pre><code class="lang-python">class TagPostsFeed(PostsFeed):
    def get_object(self, request, slug):
        return get_object_or_404(Tag, slug=slug)

    def title(self, obj):
        return &quot;RSS feed - blog posts tagged  %s&quot; % obj.name

    def link(self, obj):
        return obj.get_absolute_url()

    def description(self, obj):
        return &quot;RSS feed - blog posts tagged %s&quot; % obj.name

    def items(self, obj):
        tag = Tag.objects.get(slug=obj.slug)
        return tag.post_set.all()
</code></pre><p>The other two gaps are in our search view - we never get an empty result for the search in the following section:</p><pre><code class="lang-python">def getSearchResults(request):
    &quot;&quot;&quot;
    Search for a post by title or text
    &quot;&quot;&quot;
    # Get the query data
    query = request.GET.get(&#39;q&#39;, &#39;&#39;)
    page = request.GET.get(&#39;page&#39;, 1)

    # Query the database
    if query:
        results = Post.objects.filter(Q(text__icontains=query) | Q(title__icontains=query))
    else:
        results = None

    # Add pagination
    pages = Paginator(results, 5)

    # Get specified page
    try:
        returned_page = pages.page(page)
    except EmptyPage:
        returned_page = pages.page(pages.num_pages)

    # Display the search results
    return render_to_response(&#39;blogengine/search_post_list.html&#39;,
                              {&#39;page_obj&#39;: returned_page,
                               &#39;object_list&#39;: returned_page.object_list,
                               &#39;search&#39;: query})
</code></pre><p>So replace it with this:</p><pre><code class="lang-python">def getSearchResults(request):
    &quot;&quot;&quot;
    Search for a post by title or text
    &quot;&quot;&quot;
    # Get the query data
    query = request.GET.get(&#39;q&#39;, &#39;&#39;)
    page = request.GET.get(&#39;page&#39;, 1)

    # Query the database
    results = Post.objects.filter(Q(text__icontains=query) | Q(title__icontains=query))

    # Add pagination
    pages = Paginator(results, 5)

    # Get specified page
    try:
        returned_page = pages.page(page)
    except EmptyPage:
        returned_page = pages.page(pages.num_pages)

    # Display the search results
    return render_to_response(&#39;blogengine/search_post_list.html&#39;,
                              {&#39;page_obj&#39;: returned_page,
                               &#39;object_list&#39;: returned_page.object_list,
                               &#39;search&#39;: query})
</code></pre><p>We don’t need to check whether <code>query</code> is defined because if <code>q</code> is left blank, the value of <code>query</code> will be an empty string, so we may as well pull out the redundant code.</p><p>Finally, the other gap is for when a user tries to get an empty search page (eg, page two of something with five or less results). So let’s add another test to our <code>SearchViewTest</code> class:</p><pre><code class="lang-python">    def test_failing_search(self):
        # Search for something that is not present
        response = self.client.get(&#39;/search?q=wibble&#39;)
        self.assertEquals(response.status_code, 200)
        self.assertTrue(&#39;No posts found&#39; in response.content)

        # Try to get nonexistent second page
        response = self.client.get(&#39;/search?q=wibble&amp;page=2&#39;)
        self.assertEquals(response.status_code, 200)
        self.assertTrue(&#39;No posts found&#39; in response.content)
</code></pre><p>Run our tests and check the coverage:</p><pre><code class="lang-bash">$ coverage run --include=&quot;blogengine/*&quot; --omit=&quot;blogengine/migrations/*&quot; manage.py test blogengine
$ coverage html
</code></pre><p>If you open <code>htmlcov/index.html</code> in your browser, you should see that the test coverage is back up to 100%. With that done, it’s time to commit again:</p><pre><code class="lang-bash">$ git add blogengine/
$ git commit -m &#39;Fixed gaps in coverage&#39;
</code></pre><p>Remember, it’s not always possible to achieve 100% test coverage, and you shouldn’t worry too much about it if it’s not possible - <a href="http://nedbatchelder.com/code/coverage/excluding.html">it’s possible to ignore code</a> if necessary. However, it’s a good idea to aim for 100%.</p><h1 id="using-fabric-for-deployment">Using Fabric for deployment</h1><p>Next we’ll cover using Fabric, a handy tool for deploying your changes (any pretty much any other task you want to automate). First, you need to install it:</p><pre><code class="lang-bash">$ pip install Fabric
</code></pre><p>If you have any problems installing it, you should be able to resolve them via Google - most of them are likely to be absent libraries that Fabric depends upon. Once it’s installed, add it to your <code>requirements.tzt</code>:</p><pre><code class="lang-bash">$ pip freeze &gt; requirements.txt
</code></pre><p>Next, create a file called <code>fabfile.py</code> and enter the following text:</p><pre><code class="lang-python">#!/usr/bin/env python
from fabric.api import local

def deploy():
    &quot;&quot;&quot;
    Deploy the latest version to Heroku
    &quot;&quot;&quot;
    # Push changes to master
    local(&quot;git push origin master&quot;)

    # Push changes to Heroku
    local(&quot;git push heroku master&quot;)

    # Run migrations on Heroku
    local(&quot;heroku run python manage.py migrate&quot;)
</code></pre><p>Now, all this file does is push our changes to Github (or wherever else your repository is hosted) and to Heroku, and runs your migrations. It’s not a terribly big task anyway, but it’s handy to have it in place. Let’s commit our changes:</p><pre><code class="lang-bash">$ git add fabfile.py requirements.txt
$ git commit -m &#39;Added Fabric task for deployment&#39;
</code></pre><p>Then, let’s try it out:</p><pre><code class="lang-bash">$ fab deploy
</code></pre><p>There, wasn’t that more convenient? Fabric is much more powerful than this simple demonstration indicates, and can run tasks on remote servers via SSH easily. I recommend you take a look at the <a href="http://www.fabfile.org/">documentation</a> to see what else you can do with it. If you’re hosting your site on a VPS, you will probably find Fabric indispensable, as you will need to restart the application every time you push up a new revision.</p><h1 id="tidying-up">Tidying up</h1><p>We want our blog application to play nicely with other Django apps. For instance, say you’re working on a new site that includes a blogging engine. Wouldn’t it make sense to just be able to drop in this blogging engine and have it work immediately? At the moment, some of our URL’s are hard-coded, so we may have problems in doing so. Let’s fix that.</p><p>First we’ll amend our tests. Add this at the top of the tests file:</p><pre><code class="lang-python">from django.core.urlresolvers import reverse
</code></pre><p>Next, replace every instance of this:</p><pre><code class="lang-python">        response = self.client.get(&#39;/&#39;)
</code></pre><p>with this:</p><pre><code class="lang-python">response = self.client.get(reverse(&#39;blogengine:index&#39;))
</code></pre><p>Then, rewrite the calls to the search route. For instance, this:</p><pre><code class="lang-python">        response = self.client.get(&#39;/search?q=first&#39;)
</code></pre><p>should become this:</p><pre><code class="lang-python">        response = self.client.get(reverse(&#39;blogengine:search&#39;) + &#39;?q=first&#39;)
</code></pre><p>I’ll leave changing these as an exercise for the reader, but check the repository if you get stuck.</p><p>Next, we need to assign a namespace to our app’s routes:</p><pre><code class="lang-python">from django.conf.urls import patterns, include, url

from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns(&#39;&#39;,
    # Examples:
    # url(r&#39;^$&#39;, &#39;django_tutorial_blog_ng.views.home&#39;, name=&#39;home&#39;),
    # url(r&#39;^blog/&#39;, include(&#39;blog.urls&#39;)),

    url(r&#39;^admin/&#39;, include(admin.site.urls)),

    # Blog URLs
    url(r&#39;&#39;, include(&#39;blogengine.urls&#39;, namespace=&quot;blogengine&quot;)),

    # Flat pages
    url(r&#39;&#39;, include(&#39;django.contrib.flatpages.urls&#39;)),
)
</code></pre><p>We then assign names to our routes in the app’s <code>urls.py</code>:</p><pre><code class="lang-python">from django.conf.urls import patterns, url
from django.views.generic import ListView, DetailView
from blogengine.models import Post, Category, Tag
from blogengine.views import CategoryListView, TagListView, PostsFeed, CategoryPostsFeed, TagPostsFeed, getSearchResults
from django.contrib.sitemaps.views import sitemap
from blogengine.sitemap import PostSitemap, FlatpageSitemap

# Define sitemaps
sitemaps = {
    &#39;posts&#39;: PostSitemap,
    &#39;pages&#39;: FlatpageSitemap
}

urlpatterns = patterns(&#39;&#39;,
    # Index
    url(r&#39;^(?P&lt;page&gt;\d+)?/?$&#39;, ListView.as_view(
        model=Post,
        paginate_by=5,
        ),
        name=&#39;index&#39;
        ),

    # Individual posts
    url(r&#39;^(?P&lt;pub_date__year&gt;\d{4})/(?P&lt;pub_date__month&gt;\d{1,2})/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#39;, DetailView.as_view(
        model=Post,
        ),
        name=&#39;post&#39;
        ),

    # Categories
    url(r&#39;^category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#39;, CategoryListView.as_view(
        paginate_by=5,
        model=Category,
        ),
        name=&#39;category&#39;
        ),


    # Tags
    url(r&#39;^tag/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#39;, TagListView.as_view(
        paginate_by=5,
        model=Tag,
        ),
        name=&#39;tag&#39;
        ),

    # Post RSS feed
    url(r&#39;^feeds/posts/$&#39;, PostsFeed()),

    # Category RSS feed
    url(r&#39;^feeds/posts/category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#39;, CategoryPostsFeed()),

    # Tag RSS feed
    url(r&#39;^feeds/posts/tag/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#39;, TagPostsFeed()),

    # Search posts
    url(r&#39;^search&#39;, getSearchResults, name=&#39;search&#39;),

    # Sitemap
    url(r&#39;^sitemap\.xml$&#39;, sitemap, {&#39;sitemaps&#39;: sitemaps},
            name=&#39;django.contrib.sitemaps.views.sitemap&#39;),
)
</code></pre><p>You also need to amend two of your templates:</p><pre><code class="lang-django">&lt;!DOCTYPE html&gt;
&lt;!--[if lt IE 7]&gt;      &lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;&gt; &lt;![endif]--&gt;
&lt;!--[if IE 7]&gt;         &lt;html class=&quot;no-js lt-ie9 lt-ie8&quot;&gt; &lt;![endif]--&gt;
&lt;!--[if IE 8]&gt;         &lt;html class=&quot;no-js lt-ie9&quot;&gt; &lt;![endif]--&gt;
&lt;!--[if gt IE 8]&gt;&lt;!--&gt; &lt;html class=&quot;no-js&quot;&gt; &lt;!--&lt;![endif]--&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
        &lt;title&gt;{% block title %}My Django Blog{% endblock %}&lt;/title&gt;
        &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
        &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;Blog posts&quot; href=&quot;/feeds/posts/&quot; &gt;

        &lt;!-- Place favicon.ico and apple-touch-icon.png in the root directory --&gt;

        {% load staticfiles %}
        &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &#39;bower_components/html5-boilerplate/css/normalize.css&#39; %}&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &#39;bower_components/html5-boilerplate/css/main.css&#39; %}&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &#39;bower_components/bootstrap/dist/css/bootstrap.min.css&#39; %}&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &#39;bower_components/bootstrap/dist/css/bootstrap-theme.min.css&#39; %}&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &#39;css/main.css&#39; %}&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &#39;css/code.css&#39; %}&quot;&gt;
        &lt;script src=&quot;{% static &#39;bower_components/html5-boilerplate/js/vendor/modernizr-2.6.2.min.js&#39; %}&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!--[if lt IE 7]&gt;
            &lt;p class=&quot;browsehappy&quot;&gt;You are using an &lt;strong&gt;outdated&lt;/strong&gt; browser. Please &lt;a href=&quot;http://browsehappy.com/&quot;&gt;upgrade your browser&lt;/a&gt; to improve your experience.&lt;/p&gt;
        &lt;![endif]--&gt;

        &lt;!-- Add your site or application content here --&gt;

        &lt;div id=&quot;fb-root&quot;&gt;&lt;/div&gt;
        &lt;script&gt;(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = &quot;//connect.facebook.net/en_GB/all.js#xfbml=1&quot;;
                fjs.parentNode.insertBefore(js, fjs);
            }(document, &#39;script&#39;, &#39;facebook-jssdk&#39;));&lt;/script&gt;

        &lt;div class=&quot;navbar navbar-static-top navbar-inverse&quot;&gt;
            &lt;div class=&quot;container-fluid&quot;&gt;
                &lt;div class=&quot;navbar-header&quot;&gt;
                    &lt;button type=&quot;button&quot; class=&quot;navbar-toggle&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#header-nav&quot;&gt;
                        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                    &lt;/button&gt;
                    &lt;a class=&quot;navbar-brand&quot; href=&quot;{% url &#39;blogengine:index&#39; %}&quot;&gt;My Django Blog&lt;/a&gt;
                &lt;/div&gt;
                &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;header-nav&quot;&gt;
                    &lt;ul class=&quot;nav navbar-nav&quot;&gt;
                        {% load flatpages %}
                        {% get_flatpages as flatpages %}
                        {% for flatpage in flatpages %}
                        &lt;li&gt;&lt;a href=&quot;{{ flatpage.url }}&quot;&gt;{{ flatpage.title }}&lt;/a&gt;&lt;/li&gt;
                        {% endfor %}
                        &lt;li&gt;&lt;a href=&quot;/feeds/posts/&quot;&gt;RSS feed&lt;/a&gt;&lt;/li&gt;

                        &lt;form action=&quot;/search&quot; method=&quot;GET&quot; class=&quot;navbar-form navbar-left&quot;&gt;
                            &lt;div class=&quot;form-group&quot;&gt;
                                &lt;input type=&quot;text&quot; name=&quot;q&quot; placeholder=&quot;Search...&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;
                            &lt;/div&gt;
                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Search&lt;/button&gt;
                        &lt;/form&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;container&quot;&gt;
            {% block header %}
                &lt;div class=&quot;page-header&quot;&gt;
                    &lt;h1&gt;My Django Blog&lt;/h1&gt;
                &lt;/div&gt;
            {% endblock %}

            &lt;div class=&quot;row&quot;&gt;
                {% block content %}{% endblock %}
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;container footer&quot;&gt;
            &lt;div class=&quot;row&quot;&gt;
                &lt;div class=&quot;span12&quot;&gt;
                    &lt;p&gt;Copyright &amp;copy; {% now &quot;Y&quot; %}&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;&gt;&lt;/script&gt;
        &lt;script&gt;window.jQuery || document.write(&#39;&lt;script src=&quot;{% static &#39;bower_components/html5-boilerplate/js/vendor/jquery-1.10.2.min.js&#39; %}&quot;&gt;&lt;\/script&gt;&#39;)&lt;/script&gt;
        &lt;script src=&quot;{% static &#39;bower_components/html5-boilerplate/js/plugins.js&#39; %}&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;{% static &#39;bower_components/bootstrap/dist/js/bootstrap.min.js&#39; %}&quot;&gt;&lt;/script&gt;

        &lt;!-- Google Analytics: change UA-XXXXX-X to be your site&#39;s ID. --&gt;
        &lt;script&gt;
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src=&#39;//www.google-analytics.com/analytics.js&#39;;
            r.parentNode.insertBefore(e,r)}(window,document,&#39;script&#39;,&#39;ga&#39;));
            ga(&#39;create&#39;,&#39;UA-XXXXX-X&#39;);ga(&#39;send&#39;,&#39;pageview&#39;);
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><pre><code class="lang-django">{% extends &quot;blogengine/includes/base.html&quot; %}

    {% load custom_markdown %}

    {% block content %}
        {% if object_list %}
            {% for post in object_list %}
            &lt;div class=&quot;post col-md-12&quot;&gt;
            &lt;h1&gt;&lt;a href=&quot;{{ post.get_absolute_url }}&quot;&gt;{{ post.title }}&lt;/a&gt;&lt;/h1&gt;
            &lt;h3&gt;{{ post.pub_date }}&lt;/h3&gt;
            {{ post.text|custom_markdown }}
            &lt;/div&gt;
            {% if post.category %}
            &lt;div class=&quot;col-md-12&quot;&gt;
            &lt;a href=&quot;{{ post.category.get_absolute_url }}&quot;&gt;&lt;span class=&quot;label label-primary&quot;&gt;{{ post.category.name }}&lt;/span&gt;&lt;/a&gt;
            &lt;/div&gt;
            {% endif %}
            {% if post.tags %}
            &lt;div class=&quot;col-md-12&quot;&gt;
            {% for tag in post.tags.all %}
            &lt;a href=&quot;{{ tag.get_absolute_url }}&quot;&gt;&lt;span class=&quot;label label-success&quot;&gt;{{ tag.name }}&lt;/span&gt;&lt;/a&gt;
            {% endfor %}
            &lt;/div&gt;
            {% endif %}
            {% endfor %}
        {% else %}
            &lt;p&gt;No posts found&lt;/p&gt;
        {% endif %}

        &lt;ul class=&quot;pager&quot;&gt;
        {% if page_obj.has_previous %}
        &lt;li class=&quot;previous&quot;&gt;&lt;a href=&quot;{% url &#39;blogengine:search&#39; %}?page={{ page_obj.previous_page_number }}&amp;q={{ search }}&quot;&gt;Previous Page&lt;/a&gt;&lt;/li&gt;
        {% endif %}
        {% if page_obj.has_next %}
        &lt;li class=&quot;next&quot;&gt;&lt;a href=&quot;{% url &#39;blogengine:search&#39; %}?page={{ page_obj.next_page_number }}&amp;q={{ search }}&quot;&gt;Next Page&lt;/a&gt;&lt;/li&gt;
        {% endif %}
        &lt;/ul&gt;

    {% endblock %}
</code></pre><p>Let’s run our tests:</p><pre><code class="lang-bash">$ python manage.py test blogengine/
Creating test database for alias &#39;default&#39;...
.............................
----------------------------------------------------------------------
Ran 29 tests in 10.456s

OK
Destroying test database for alias &#39;default&#39;...
</code></pre><p>And commit our changes:</p><pre><code class="lang-bash">$ git add .
$ git commit -m &#39;Now use named routes&#39;
</code></pre><h1 id="debugging-django">Debugging Django</h1><p>There are a number of handy ways to debug Django applications. One of the simplest is to use the Python debugger. To use it, just enter the following lines at the point you want to break at:</p><pre><code class="lang-python">import pdb
pdb.set_trace()
</code></pre><p>Now, whenever that line of code is run, you’ll be dropped into an interactive shell that lets you play around to find out what’s going wrong. However, it doesn’t offer autocompletion, so we’ll install <code>ipdb</code>, which is an improved version:</p><pre><code class="lang-bash">$ pip install ipdb
$ pip freeze &gt; requirements.txt
</code></pre><p>Now you can use <code>ipdb</code> in much the same way as you would use <code>pdb</code>:</p><pre><code class="lang-python">import ipdb
ipdb.set_trace()
</code></pre><p>Now, <code>ipdb</code> is very useful, but it isn’t much help for profiling your application. For that you need the Django Debug Toolbar. Run the following commands:</p><pre><code class="lang-bash">$ pip install django-debug-toolbar
$ pip freeze &gt; requirements.txt
</code></pre><p>Then add the following line to <code>INSTALLED_APPS</code> in your settings file:</p><pre><code class="lang-python">    &#39;debug_toolbar&#39;,
</code></pre><p>Then, try running the development server, and you’ll see a toolbar on the right-hand side of the screen that allows you to view some useful data about your page. For instance, you’ll notice a field called <code>SQL</code> - this contains details of the queries carried out when building the page. To actually see the queries carried out, you’ll want to disable caching in your settings file by commenting out all the constants that start with <code>CACHE</code>.</p><p>We won’t go into using the toolbar to optimise queries, but using this, you can easily see what queries are being executed on a specific page, how long they take, and the values they return. Sometimes, you may need to optimise a slow query - in this case, Django allows you to drop down to writing raw SQL if necessary.</p><p>Note that if you’re running Django in production, you should set <code>DEBUG</code> to <code>False</code> as otherwise it gives rather too much information to potential attackers, and with Django Debug Toolbar installed, that’s even more important.</p><p>Please also note that when you disable debug mode, Django no longer handles static files automatically, so you’ll need to run <code>python manage.py collectstatic</code> and commit the <code>staticfiles</code> directory.</p><p>Once you’ve disabled debug mode, collected the static files, and re-enables caching, you can commit your changes:</p><pre><code class="lang-bash">$ git add .
$ git commit -m &#39;Installed debugging tools&#39;
</code></pre><h1 id="optimising-static-files">Optimising static files</h1><p>We want our blog to get the best SEO results it can, so making it fast is essential. One of the simplest things you can do is to concatenate and minify static assets such as CSS and JavaScript. There are numerous ways to do this, but I generally use Grunt. Let’s set up a Grunt config to concatenate and minify our CSS and JavaScript.</p><p>You’ll need to have Node.js installed on your development machine for this. Then, you need to install the Grunt command-line interface:</p><pre><code class="lang-bash">$ sudo npm install -g grunt-cli
</code></pre><p>With that done, we need to create a <code>package.json</code> file. You can create one using the command <code>npm init</code>. Here’s mine:</p><pre><code class="lang-json">{
  &quot;name&quot;: &quot;django_tutorial_blog_ng&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;Django Tutorial Blog NG =======================&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;repository&quot;: {
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;https://github.com/matthewbdaly/django_tutorial_blog_ng.git&quot;
  },
  &quot;author&quot;: &quot;Matthew Daly &lt;matthew@matthewdaly.co.uk&gt; (http://matthewdaly.co.uk/)&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;bugs&quot;: {
    &quot;url&quot;: &quot;https://github.com/matthewbdaly/django_tutorial_blog_ng/issues&quot;
  },
  &quot;homepage&quot;: &quot;https://github.com/matthewbdaly/django_tutorial_blog_ng&quot;
}
</code></pre><p>Feel free to amend it as you see fit.</p><p>Next we install Grunt and the required plugins:</p><pre><code class="lang-bash">$ npm install grunt grunt-contrib-cssmin grunt-contrib-concat grunt-contrib-uglify --save-dev
</code></pre><p>We now need to create a Gruntfile for our tasks:</p><pre><code class="lang-javascript">module.exports = function (grunt) {
    &#39;use strict&#39;;

    grunt.initConfig({
        concat: {
            dist: {
                src: [
                    &#39;blogengine/static/bower_components/bootstrap/dist/css/bootstrap.css&#39;,
                    &#39;blogengine/static/bower_components/bootstrap/dist/css/bootstrap-theme.css&#39;,
                    &#39;blogengine/static/css/code.css&#39;,
                    &#39;blogengine/static/css/main.css&#39;,
                ],
                dest: &#39;blogengine/static/css/style.css&#39;
            }
        },
        uglify: {
            dist: {
                src: [
                    &#39;blogengine/static/bower_components/jquery/jquery.js&#39;,
                    &#39;blogengine/static/bower_components/bootstrap/dist/js/bootstrap.js&#39;
                ],
                dest: &#39;blogengine/static/js/all.min.js&#39;
            }
        },
        cssmin: {
            dist: {
                src: &#39;blogengine/static/css/style.css&#39;,
                dest: &#39;blogengine/static/css/style.min.css&#39;
            }
        }
    });

    grunt.loadNpmTasks(&#39;grunt-contrib-concat&#39;);
    grunt.loadNpmTasks(&#39;grunt-contrib-uglify&#39;);
    grunt.loadNpmTasks(&#39;grunt-contrib-cssmin&#39;);
    grunt.registerTask(&#39;default&#39;, [&#39;concat&#39;, &#39;uglify&#39;, &#39;cssmin&#39;]);
};
</code></pre><p>You’ll also need to change the paths in your base HTML file to point to the minified versions:</p><pre><code class="lang-django">&lt;!DOCTYPE html&gt;
&lt;!--[if lt IE 7]&gt;      &lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;&gt; &lt;![endif]--&gt;
&lt;!--[if IE 7]&gt;         &lt;html class=&quot;no-js lt-ie9 lt-ie8&quot;&gt; &lt;![endif]--&gt;
&lt;!--[if IE 8]&gt;         &lt;html class=&quot;no-js lt-ie9&quot;&gt; &lt;![endif]--&gt;
&lt;!--[if gt IE 8]&gt;&lt;!--&gt; &lt;html class=&quot;no-js&quot;&gt; &lt;!--&lt;![endif]--&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
        &lt;title&gt;{% block title %}My Django Blog{% endblock %}&lt;/title&gt;
        &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
        &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;Blog posts&quot; href=&quot;/feeds/posts/&quot; &gt;

        &lt;!-- Place favicon.ico and apple-touch-icon.png in the root directory --&gt;

        {% load staticfiles %}
        &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &#39;css/style.min.css&#39; %}&quot;&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!--[if lt IE 7]&gt;
            &lt;p class=&quot;browsehappy&quot;&gt;You are using an &lt;strong&gt;outdated&lt;/strong&gt; browser. Please &lt;a href=&quot;http://browsehappy.com/&quot;&gt;upgrade your browser&lt;/a&gt; to improve your experience.&lt;/p&gt;
        &lt;![endif]--&gt;

        &lt;!-- Add your site or application content here --&gt;

        &lt;div id=&quot;fb-root&quot;&gt;&lt;/div&gt;
        &lt;script&gt;(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = &quot;//connect.facebook.net/en_GB/all.js#xfbml=1&quot;;
                fjs.parentNode.insertBefore(js, fjs);
            }(document, &#39;script&#39;, &#39;facebook-jssdk&#39;));&lt;/script&gt;

        &lt;div class=&quot;navbar navbar-static-top navbar-inverse&quot;&gt;
            &lt;div class=&quot;container-fluid&quot;&gt;
                &lt;div class=&quot;navbar-header&quot;&gt;
                    &lt;button type=&quot;button&quot; class=&quot;navbar-toggle&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#header-nav&quot;&gt;
                        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                    &lt;/button&gt;
                    &lt;a class=&quot;navbar-brand&quot; href=&quot;{% url &#39;blogengine:index&#39; %}&quot;&gt;My Django Blog&lt;/a&gt;
                &lt;/div&gt;
                &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;header-nav&quot;&gt;
                    &lt;ul class=&quot;nav navbar-nav&quot;&gt;
                        {% load flatpages %}
                        {% get_flatpages as flatpages %}
                        {% for flatpage in flatpages %}
                        &lt;li&gt;&lt;a href=&quot;{{ flatpage.url }}&quot;&gt;{{ flatpage.title }}&lt;/a&gt;&lt;/li&gt;
                        {% endfor %}
                        &lt;li&gt;&lt;a href=&quot;/feeds/posts/&quot;&gt;RSS feed&lt;/a&gt;&lt;/li&gt;

                        &lt;form action=&quot;/search&quot; method=&quot;GET&quot; class=&quot;navbar-form navbar-left&quot;&gt;
                            &lt;div class=&quot;form-group&quot;&gt;
                                &lt;input type=&quot;text&quot; name=&quot;q&quot; placeholder=&quot;Search...&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;
                            &lt;/div&gt;
                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Search&lt;/button&gt;
                        &lt;/form&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;container&quot;&gt;
            {% block header %}
                &lt;div class=&quot;page-header&quot;&gt;
                    &lt;h1&gt;My Django Blog&lt;/h1&gt;
                &lt;/div&gt;
            {% endblock %}

            &lt;div class=&quot;row&quot;&gt;
                {% block content %}{% endblock %}
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;container footer&quot;&gt;
            &lt;div class=&quot;row&quot;&gt;
                &lt;div class=&quot;span12&quot;&gt;
                    &lt;p&gt;Copyright &amp;copy; {% now &quot;Y&quot; %}&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;script src=&quot;{% static &#39;js/all.min.js&#39; %}&quot;&gt;&lt;/script&gt;

        &lt;!-- Google Analytics: change UA-XXXXX-X to be your site&#39;s ID. --&gt;
        &lt;script&gt;
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src=&#39;//www.google-analytics.com/analytics.js&#39;;
            r.parentNode.insertBefore(e,r)}(window,document,&#39;script&#39;,&#39;ga&#39;));
            ga(&#39;create&#39;,&#39;UA-XXXXX-X&#39;);ga(&#39;send&#39;,&#39;pageview&#39;);
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>Now, run the Grunt task:</p><pre><code class="lang-bash">$ grunt
</code></pre><p>And collect the static files:</p><pre><code class="lang-bash">$ python manage.py collectstatic
</code></pre><p>You’ll also want to add your <code>node_modules</code> folder to your <code>gitignore</code>:</p><pre><code class="lang-bash">venv/
*.pyc
db.sqlite3
reports/
htmlcov/
.coverage
node_modules/
</code></pre><p>Then commit your changes:</p><pre><code class="lang-bash">$ git add .
$ git commit -m &#39;Optimised static assets&#39;
</code></pre><p>Now, our <code>package.json</code> will cause a problem - it will mean that this app is mistakenly identified as a Node.js app. To prevent this, create the <code>.slugignore</code> file:</p><pre><code class="lang-bash">package.json
</code></pre><p>Then commit your changes and push them up:</p><pre><code class="lang-bash">$ git add .slugignore
$ git commit -m &#39;Added slugignore&#39;
$ fab deploy
</code></pre><p>If you check, your site should now be loading the minified versions of the static files.</p><p>That’s our site done! As usual I’ve tagged the final commit with <code>lesson-8</code>.</p><p>Sadly, that’s our final instalment over with! I hope you’ve enjoyed these tutorials, and I look forward to seeing what you create with them.</p><section><ul class="categories"><li><a href="/blog/categories/tdd/">tdd</a></li><li><a href="/blog/categories/python/">python</a></li><li><a href="/blog/categories/django/">django</a></li><li><a href="/blog/categories/django-blog-tutorial/">django-blog-tutorial</a></li></ul></section><section><a class="commentlink" href="https://matthewdaly.co.uk/blog/2014/08/31/django-blog-tutorial-the-next-generation-part-8/">View the article with comments</a></section><section><a class="postlink" href="/blog/2014/09/28/changing-date-format-from-dd-slash-mm-slash-yyyy-to-yyyy-mm-dd-in-vim/amp/">Changing Date Format from DD/MM/YYYY to YYYY-MM-DD in Vim</a> <a class="postlink" href="/blog/2014/08/25/django-blog-tutorial-the-next-generation-part-7/amp/">Django Blog Tutorial - the Next Generation - Part 7</a></section></article></div></div></div><amp-analytics type="googleanalytics" id="analytics1"><script type="application/json">{
					"vars": {
						"account": "UA-17043630-1"
					},
					"triggers": {
						"trackPageview": {
							"on": "visible",
							"request": "pageview"
						}
					}
				}</script></amp-analytics></body></html>